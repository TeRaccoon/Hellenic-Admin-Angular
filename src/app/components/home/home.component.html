<div class="container">
  <h1>Dashboard</h1>
  <div class="widget-container">
    @for (widget of widgetData; track widget; let i = $index) {
      <div class="widget">
        <div class="icon-container">
          <fa-icon [icon]="widgetIcons[i]"></fa-icon>
        </div>
        <div class="information-container">
          <h2>{{ widgetHeaders[i] }}</h2>
          <p>{{ widget }}</p>
        </div>
      </div>
    }
  </div>
  <div class="quick-view-container">
    <div class="table-container">
      <h1>Invoices Due Today</h1>
      @if (invoiceDueData.length != 0) {
        <table>
          <thead>
            <tr>
              <th>Invoice ID</th>
              <th>Customer Name</th>
              <th>Printed?</th>
              <th>Paid?</th>
            </tr>
          </thead>
          <tbody>
            @for (row of invoiceDueData; track row) {
              <tr>
                @for (key of getObjectKeys(row); track key) {
                  <td>{{ row[key] }}</td>
                }
              </tr>
            }
          </tbody>
        </table>
      } @else {
        <p>There are no invoices due today</p>
      }
    </div>
    <div class="table-container">
      <h1>Products Expiring Soon</h1>
      @if (productsExpiringData.length != 0) {
        <table>
          <thead>
            <tr>
              <th>Item Name</th>
              <th>Expiry Date</th>
              <th>Quantiy</th>
              <th>Warehouse Location</th>
            </tr>
          </thead>
          <tbody>
            @for (row of productsExpiringData; track row) {
              <tr>
                @for (key of getObjectKeys(row); track key) {
                  <td>{{ row[key] }}</td>
                }
              </tr>
            }
          </tbody>
        </table>
      } @else {
        <p>There is no stock expiring soon</p>
      }
    </div>
    <div class="table-container">
      <h1>Low Stock</h1>
      @if (lowStockData.length != 0) {
        <table>
          <thead>
            <tr>
              <th>Item Name</th>
              <th>Quantity</th>
              <th>Warehouse Location</th>
            </tr>
          </thead>
          <tbody>
            @for (row of lowStockData; track row) {
              <tr>
                @for (key of getObjectKeys(row); track key) {
                  <td>{{ row[key] }}</td>
                }
              </tr>
            }
          </tbody>
        </table>
      } @else {
        <p>There are no stock low on quantity</p>
      }
    </div>
  </div>
</div>
<app-message-form></app-message-form>
<app-change-password-form></app-change-password-form>
